---
layout: default
title: POM Generator | KumuluzEE
subtitle: Quickstart development with online pom generator
---

<div id="generator">
	{% include subtitle.html %}

	<div class="container">
		<div class="row">
			<div class="col-md-12">
				<form class="form-horizontal" onsubmit="return generatePom();">
						<div class='col-xs-12'>
 							<h3>Project Metadata</h3>
						</div>
						<div class='col-xs-12 col-sm-6'>
							<div class="form-group">
			        	<label class="col-xs-12 col-sm-3 control-label" for="groupId">GroupId</label>
								<div class="col-xs-12 col-sm-8">
									<input class="form-control" type="text" id="groupId" name="groupId" placeholder="com.kumuluzee.sample" />
								</div>
							</div>

							<div class="form-group">
			        	<label class="col-xs-12 col-sm-3 control-label" for="artifactId">ArtifactId</label>
								<div class="col-xs-12 col-sm-8">
									<input class="form-control" type="text" id="artifactId" name="artifactId" placeholder="sample">
								</div>
							</div>

							<div class="form-group">
			        	<label class="col-xs-12 col-sm-3 control-label" for="version">KumuluzEE</label>
								<div class="col-xs-12 col-sm-8">
									<input class="form-control" type="text" id="version" name="version" />
									<span id='versionplaceholder' ></span>
								</div>
							</div>
						</div>

						<div class='col-xs-12 col-sm-6'>
							<div class="form-group">
			        	<label class="col-xs-12 col-sm-3 control-label" for="name">Name</label>
								<div class="col-xs-12 col-sm-8">
									<input class="form-control" type="text" id="name" name="name" placeholder="Sample project">
								</div>
							</div>

							<div class="form-group">
			        	<label class="col-xs-12 col-sm-3 control-label" for="description">Description</label>
								<div class="col-xs-12 col-sm-8">
									<input class="form-control" type="text" id="description" name="description" placeholder="Sample KumuluzEE project">
								</div>
							</div>
							<div class="form-group">
			        	<label class="col-xs-12 col-sm-3 control-label" for="projectVersion">Verson</label>
								<div class="col-xs-12 col-sm-8">
									<input class="form-control" type="text" id="projectVersion" name="projectVersion" placeholder="1.0.0" />
								</div>
							</div>
						</div>

						<div class="col-xs-12">
							<h3>Profiles</h3>
							<div class="col-sm-6">
								<div class="checkbox-inline col-xs-12 col-sm-offset-3 col-sm-9">
									<label>
										<input id="microprofile" onclick="disableMicroprofileValues()" type="checkbox" name="dependencies" value="com.kumuluz.ee:kumuluzee-microProfile-1.0" />MicroProfile 1.0
									</label>
								</div>
							</div>
						</div>
						<div class="col-xs-12">
							<h3>Components</h3>
							<div class="col-sm-6">
								<div class="checkbox-inline col-xs-12 col-sm-offset-3 col-sm-9">
									<label>
			            	<input class="microprofile" type="checkbox" name="dependencies" value="com.kumuluz.ee:kumuluzee-servlet-jetty" />Servlet 3.1 (Jetty)
									</label>
								</div>
								<div class="checkbox-inline col-xs-12 col-sm-offset-3 col-sm-9">
									<label>
			            	<input class="microprofile" type="checkbox" name="dependencies" value="com.kumuluz.ee:kumuluzee-cdi-weld" />CDI 1.2 (RI Weld)
									</label>
								</div>

								<div class="checkbox-inline col-xs-12 col-sm-offset-3 col-sm-9">
									<label>
										<input class="microprofile" type="checkbox" name="dependencies" value="com.kumuluz.ee:kumuluzee-jax-rs-jersey" />JAX-RS 2.1. (RI Jersey)
									</label>
								</div>
								<div class="checkbox-inline col-xs-12 col-sm-offset-3 col-sm-9">
									<label>
										<input class="microprofile" type="checkbox" name="dependencies" value="com.kumuluz.ee:kumuluzee-json-p-jsonp" />JSON-P 1.0 (RI JSONP)
									</label>
								</div>
								<div class="checkbox-inline col-xs-12 col-sm-offset-3 col-sm-9">
									<label>
										<input type="checkbox" name="dependencies" value="com.kumuluz.ee:kumuluzee-jsp-jetty" />JSP 2.3 (Jetty Apache Jasper)
									</label>
								</div>

								<div class="checkbox-inline col-xs-12 col-sm-offset-3 col-sm-9">
									<label>
										<input type="checkbox" name="dependencies" value="com.kumuluz.ee:kumuluzee-el-uel" />EL 3.0 (RI UEL)
									</label>
								</div>
							</div>
							<div class="col-sm-6">
								<div class="checkbox-inline col-xs-12 col-sm-offset-3 col-sm-9">
									<label>
										<input type="checkbox" name="dependencies" value="com.kumuluz.ee:kumuluzee-jpa-eclipselink" />JPA 2.1 (RI EclipseLink)
									</label>
								</div>

								<div class="checkbox-inline col-xs-12 col-sm-offset-3 col-sm-9">
									<label>
										<input type="checkbox" name="dependencies" value="com.kumuluz.ee:kumuluzee-jpa-hibernate" />JPA 2.1 (RI Hibernate)
									</label>
								</div>
								<div class="checkbox-inline col-xs-12 col-sm-offset-3 col-sm-9">
									<label>
										<input type="checkbox" name="dependencies" value="com.kumuluz.ee:kumuluzee-jax-ws-metro" />JAX-WS (RI Metro)
									</label>
								</div>
								<div class="checkbox-inline col-xs-12 col-sm-offset-3 col-sm-9">
									<label>
										<input type="checkbox" name="dependencies" value="com.kumuluz.ee:kumuluzee-jsf-mojarra" />JSF 2.2 (RI Mojarra)
									</label>
								</div>
								<div class="checkbox-inline col-xs-12 col-sm-offset-3 col-sm-9">
									<label>
										<input type="checkbox" name="dependencies" value="com.kumuluz.ee:kumuluzee-websocket-jetty" />WebSocket 1.1 (Jetty)
									</label>
								</div>
								<div class="checkbox-inline col-xs-12 col-sm-offset-3 col-sm-9">
									<label>
										<input type="checkbox" name="dependencies" value="com.kumuluz.ee:kumuluzee-bean-validation-hibernate-validator" />Bean Validation 1.1 (RI Hibernate validator)
									</label>
								</div>
							</div>
						</div>
						<div class="col-xs-12">
							<h3>Extensions</h3>
							<div class="col-sm-6">
								<div class="checkbox-inline col-xs-12 col-sm-offset-3 col-sm-9">
									<label>
										<input class='logs' type="checkbox" name="dependencies" value="com.kumuluz.ee.logs:kumuluzee-logs-log4j2:${kumuluzee-logs.version}" />KumuluzEE Logs
									</label>
								</div>
							</div>
		        </div>

						<div class="col-xs-12 text-center" style='padding-top: 30px;'>
		        	<input class="btn btn-raised btn-normal-lg" type="submit" value="Generate POM">
						</div>
		    </form>

			</div>
		</div>
	</div>
</div>

<script>
let kmuluzLogsVersion = "1.1.0";
function generatePom() {
			// create object to be passed into template
			var formData = {
					groupId: $("#groupId").val() || "com.kumuluzee.sample",
					artifactId: $("#artifactId").val() || "sample",
					version: $("#projectVersion").val() || "1.0.0",
					name: $("#name").val() || "Sample project",
					description: $("#description").val() || "Sample KumuluzEE project",
					kumuluzVersion: $("#version").val() || "2.2.0",
					kumuluzeeLogsVersion: kumuluzeeLogsVersion || "1.1.0",
					dependencies: [],
					isLogs: $('.logs').prop('checked')
			};

			// parse dependencies
      var dependencies = $("input[name='dependencies']");
			var isMicroprofile = $("#microprofile").prop("checked");

			if(!isMicroprofile){
				formData.dependencies.push({
						groupId: 'com.kumuluz.ee',
						artifactId: 'kumuluzee-core',
						version: false
				});
			}

      for (var i = 0; i < dependencies.length; i++) {
          var isMicroprofileDep = $(dependencies[i]).hasClass('microprofile');
          if (dependencies[i].checked && !(isMicroprofile && isMicroprofileDep)) {
              var dependency = dependencies[i].value.split(":");
              formData.dependencies.push({
                  groupId: dependency[0],
                  artifactId: dependency[1],
                  version: dependency[2]
              });
          }
      }

			$.ajax({
					url: "/assets/template.xml",
					dataType: "text",
					success: function(xml) {
						console.log(xml);
						console.log("...");
							var pom = Mustache.render(xml, formData);
							// return pom.xml
							var blob = new Blob([pom], {
									type: "text/plain;charset=utf-8"
							});
							saveAs(blob, "pom.xml");
					}
			});
			return false;
	}
	function disableMicroprofileValues() {
      let checked = $('#microprofile').prop("checked");
      $(".microprofile").each(function(i, elm) {
        $(elm).prop('disabled', checked);
        $(elm).prop('checked', checked);
      });
  }

	$(document).ready(function(){
		$.get("https://api.github.com/repos/kumuluz/kumuluzee-logs/releases", function(response){
			for(var log of response){
				if(!log.prerelease){
					kumuluzeeLogsVersion = log.name.substring(1);
					break;
				}
			}
		});
		$.get("https://api.github.com/repos/kumuluz/kumuluzee/releases?per_page=10", function(response){
			if(response && response.length>0){
				var versions = [];
				for(var release of response){
						if(!release.prerelease){
							versions.push(release.name.substring(1));
						}
				}
				if(versions.length>0){
					$("#version").remove();
					$("#versionplaceholder").append("<select id='version' name='version' class='form-control'></select>");
					for(var version of versions){
						$("#version").append("<option value='"+version+"'>"+version+"</option>");
					}
				}
			}
		});
	});
</script>
<script src="/assets/js/mustache.min.js"></script>
<script src="/assets/js/FileSaver.min.js"></script>
